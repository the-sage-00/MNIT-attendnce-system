# ===========================================
# SERVER ENVIRONMENT CONFIGURATION
# ===========================================
# Copy this file to .env and fill in your values

# Server Configuration
PORT=5000
NODE_ENV=development

# MongoDB Connection
# For local: mongodb://localhost:27017/qr-attendance
# For Atlas: mongodb+srv://username:password@cluster.mongodb.net/dbname
MONGODB_URI=mongodb://localhost:27017/qr-attendance

# JWT Configuration
# Generate a secure random string for production (min 32 characters)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRE=7d

# Frontend URL (for CORS)
# Development: http://localhost:5173
# Production: https://your-frontend-domain.vercel.app
FRONTEND_URL=http://localhost:5173

# Google OAuth (get from Google Cloud Console)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com

# Email Configuration (for password reset, notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Redis Configuration (optional - for production rate limiting)
# Leave empty to use in-memory fallback
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ===========================================
# SECURITY SETTINGS (Optional - defaults shown)
# ===========================================

# QR Code Settings
QR_ROTATION_INTERVAL=120000  # 2 minutes (display time)
QR_TIME_WINDOW=35000         # 35 seconds (crypto window)

# Rate Limiting
MAX_ATTENDANCE_ATTEMPTS=10   # Per student per hour
MAX_DEVICES_PER_STUDENT=3    # Devices per student

# Location Settings
DEFAULT_RADIUS=50            # Default geofence radius (meters)
MAX_RADIUS=500               # Maximum allowed radius
REQUIRED_ACCURACY=150        # GPS accuracy threshold (v5: relaxed to 150m)

# Suspicion Thresholds
SUSPICION_THRESHOLD=50       # Flag for review
AUTO_BLOCK_THRESHOLD=100     # Auto-block suspicious activity
